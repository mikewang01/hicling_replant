<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SmartSnippets DA1468x SDK: MEMORY</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SmartSnippets DA1468x SDK
   &#160;<span id="projectnumber">Version 1.0.5.885</span>
   </div>
   <div id="projectbrief">Bluetooth Smart</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MEMORY<div class="ingroups"><a class="el" href="group___b_s_p.html">BSP</a> &raquo; <a class="el" href="group___s_y_s_t_e_m.html">SYSTEM</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>QSPI flash access when running in auto mode.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:qspi__automode_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qspi__automode_8h.html">qspi_automode.h</a></td></tr>
<tr class="memdesc:qspi__automode_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access QSPI flash when running in auto mode. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga794de9e9ab8b395a0126205180619345"><td class="memItemLeft" align="right" valign="top">DEPRECATED uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga794de9e9ab8b395a0126205180619345">qspi_automode_get_code_buffer_size</a> (void)</td></tr>
<tr class="memdesc:ga794de9e9ab8b395a0126205180619345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of RAM buffer needed for code to modify QSPI flash.  <a href="#ga794de9e9ab8b395a0126205180619345">More...</a><br /></td></tr>
<tr class="separator:ga794de9e9ab8b395a0126205180619345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18753e2453fc13a9e6c6f7ef3403e987"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga18753e2453fc13a9e6c6f7ef3403e987">qspi_automode_set_code_buffer</a> (void *ram)</td></tr>
<tr class="memdesc:ga18753e2453fc13a9e6c6f7ef3403e987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set buffer that will be used for code that modifies flash.  <a href="#ga18753e2453fc13a9e6c6f7ef3403e987">More...</a><br /></td></tr>
<tr class="separator:ga18753e2453fc13a9e6c6f7ef3403e987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7b03b4f5f1a5f150d2a246f707a7255"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gad7b03b4f5f1a5f150d2a246f707a7255">qspi_automode_write_flash_page</a> (uint32_t addr, const uint8_t *buf, size_t size)</td></tr>
<tr class="memdesc:gad7b03b4f5f1a5f150d2a246f707a7255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write flash memory.  <a href="#gad7b03b4f5f1a5f150d2a246f707a7255">More...</a><br /></td></tr>
<tr class="separator:gad7b03b4f5f1a5f150d2a246f707a7255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcd4cecdf5349007b99b3e17e4306f36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gafcd4cecdf5349007b99b3e17e4306f36">qspi_automode_erase_flash_sector</a> (uint32_t addr)</td></tr>
<tr class="memdesc:gafcd4cecdf5349007b99b3e17e4306f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase flash sector.  <a href="#gafcd4cecdf5349007b99b3e17e4306f36">More...</a><br /></td></tr>
<tr class="separator:gafcd4cecdf5349007b99b3e17e4306f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81ef72beb9d06ff0a1b6b4ecfb13311e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga81ef72beb9d06ff0a1b6b4ecfb13311e">qspi_automode_read</a> (uint32_t addr, uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:ga81ef72beb9d06ff0a1b6b4ecfb13311e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read flash memory.  <a href="#ga81ef72beb9d06ff0a1b6b4ecfb13311e">More...</a><br /></td></tr>
<tr class="separator:ga81ef72beb9d06ff0a1b6b4ecfb13311e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae49edd5ac60cedf9e907829f67259479"><td class="memItemLeft" align="right" valign="top">static const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gae49edd5ac60cedf9e907829f67259479">qspi_automode_addr</a> (uint32_t addr)</td></tr>
<tr class="memdesc:gae49edd5ac60cedf9e907829f67259479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get address of flash.  <a href="#gae49edd5ac60cedf9e907829f67259479">More...</a><br /></td></tr>
<tr class="separator:gae49edd5ac60cedf9e907829f67259479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b31c2e6fdca40873c7164c2b11e6052"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5b31c2e6fdca40873c7164c2b11e6052"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#ga5b31c2e6fdca40873c7164c2b11e6052">qspi_automode_flash_power_up</a> (void)</td></tr>
<tr class="memdesc:ga5b31c2e6fdca40873c7164c2b11e6052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power up flash. <br /></td></tr>
<tr class="separator:ga5b31c2e6fdca40873c7164c2b11e6052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca5f260e829fc98738dc0adb456bf045"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaca5f260e829fc98738dc0adb456bf045"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m_o_r_y.html#gaca5f260e829fc98738dc0adb456bf045">qspi_automode_init</a> (void)</td></tr>
<tr class="memdesc:gaca5f260e829fc98738dc0adb456bf045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init QSPI controller. <br /></td></tr>
<tr class="separator:gaca5f260e829fc98738dc0adb456bf045"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>QSPI flash access when running in auto mode. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae49edd5ac60cedf9e907829f67259479"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const void* qspi_automode_addr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get address of flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>starting offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address in CPU address space where data is located </dd></dl>

</div>
</div>
<a class="anchor" id="gafcd4cecdf5349007b99b3e17e4306f36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qspi_automode_erase_flash_sector </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase flash sector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>starting offset of sector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga794de9e9ab8b395a0126205180619345"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEPRECATED uint32_t qspi_automode_get_code_buffer_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size of RAM buffer needed for code to modify QSPI flash. </p>
<p>QSPI controller allows to execute code directly from QSPI flash. When code is executing from flash there is no possibility to reprogram it. To be able to modify flash memory while it is used for code execution it must me assured that for time needed for erase/write no code is running from flash. To achieve this code in this file allows to copy programming functions to RAM and execute it from there. Great flexibility is achieved by putting all code needed for flash modification in one section that will be copied to RAM. Code in this section will not access any other functions or constant variables (that could reside in flash). Called must allocate buffer at least of this size and pass it qspi_set_code_buffer() to allow flash modification.</p>
<dl class="section return"><dt>Returns</dt><dd>size of buffer needed </dd></dl>

</div>
</div>
<a class="anchor" id="ga81ef72beb9d06ff0a1b6b4ecfb13311e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t qspi_automode_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read flash memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>starting offset </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to read data to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>number of bytes to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read </dd></dl>

</div>
</div>
<a class="anchor" id="ga18753e2453fc13a9e6c6f7ef3403e987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qspi_automode_set_code_buffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ram</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set buffer that will be used for code that modifies flash. </p>
<p>This function should be called with buffer allocated for flash manipulation code. Size of this buffer should be at least the value returned from qspi_get_code_buffer_size(). If function is called with NULL all further calls to qspi_write_flash_page() or qspi_erase_flash_sector() will crash. To preserve memory it is quite wise to allocate buffer before erase/write, update flash and then call this function with NULL and free memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ram</td><td>buffer for code that will be used for erase and write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad7b03b4f5f1a5f150d2a246f707a7255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t qspi_automode_write_flash_page </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write flash memory. </p>
<p>This function allows to write up to page size of data to flash. If size is greater than page size, flash can wrap data and overwrite content of page. It's possible to write less then page size. Memory should be erased before.</p>
<dl class="section note"><dt>Note</dt><dd>: Do not pass buf pointing to QSPI mapped memory.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>offset in flash to write data to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer to data to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of bytes to write</td></tr>
  </table>
  </dd>
</dl>
<p>return number of bytes written </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 16 2016 16:30:39 for SmartSnippets DA1468x SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
