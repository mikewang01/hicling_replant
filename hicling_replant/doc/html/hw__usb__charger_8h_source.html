<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SmartSnippets DA1468x SDK: sdk/bsp/peripherals/include/hw_usb_charger.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SmartSnippets DA1468x SDK
   &#160;<span id="projectnumber">Version 1.0.5.885</span>
   </div>
   <div id="projectbrief">Bluetooth Smart</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_243a4ba6b4f893d71afbb5a3e90552fa.html">sdk</a></li><li class="navelem"><a class="el" href="dir_1b831ef1cecb49d6eddab2beb5a76e48.html">bsp</a></li><li class="navelem"><a class="el" href="dir_937144c9b7a1e4674ae40c2b5f1a4e9d.html">peripherals</a></li><li class="navelem"><a class="el" href="dir_4127c30225f0c1d044a3c954a898f814.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">hw_usb_charger.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="hw__usb__charger_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#ifndef HW_USB_CHARGER_H_</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define HW_USB_CHARGER_H_</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if dg_configUSE_HW_USB_CHARGER</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sdk__defs_8h.html">sdk_defs.h</a>&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sys__tcs_8h.html">sys_tcs.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga3cf8a39baeab5231ca55303881736539">   46</a></span>&#160;<span class="preprocessor">#define HW_USB_CHARGER_REG_FIELD_MASK(reg, field) \</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">        (USB_USB_CHARGER_##reg##_REG_##field##_Msk)</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga4f39d11d9b023a019516bbab0a97a807">   56</a></span>&#160;<span class="preprocessor">#define HW_USB_CHARGER_REG_FIELD_POS(reg, field) \</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">        (USB_USB_CHARGER_##reg##_REG_##field##_Pos)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga5081243fe5a39c68c45f1add9d2d9c96">   68</a></span>&#160;<span class="preprocessor">#define HW_USB_CHARGER_REG_GETF(reg, field) \</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">        ((USB-&gt;USB_CHARGER_##reg##_REG &amp; (USB_USB_CHARGER_##reg##_REG_##field##_Msk)) &gt;&gt; (USB_USB_CHARGER_##reg##_REG_##field##_Pos))</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga9b6e62a4ab86d8aed1d7a111bc97e952">   79</a></span>&#160;<span class="preprocessor">#define HW_USB_CHARGER_REG_SETF(reg, field, new_val) \</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">        USB-&gt;USB_CHARGER_##reg##_REG = ((USB-&gt;USB_CHARGER_##reg##_REG &amp; ~(USB_USB_CHARGER_##reg##_REG_##field##_Msk)) | \</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">        ((USB_USB_CHARGER_##reg##_REG_##field##_Msk) &amp; ((new_val) &lt;&lt; (USB_USB_CHARGER_##reg##_REG_##field##_Pos))))</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga435b701ca395404d7df957c2241bd33c">   90</a></span>&#160;<span class="preprocessor">#define HW_CHARGER_REG_FIELD_MASK(reg, field) \</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">        (ANAMISC_CHARGER_##reg##_REG_##field##_Msk)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga6b96f8045bf8bcea08411d3e5b78bab5">  100</a></span>&#160;<span class="preprocessor">#define HW_CHARGER_REG_FIELD_POS(reg, field) \</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">        (ANAMISC_CHARGER_##reg##_REG_##field##_Pos)</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">  112</a></span>&#160;<span class="preprocessor">#define HW_CHARGER_REG_GETF(reg, field) \</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">        ((ANAMISC-&gt;CHARGER_##reg##_REG &amp; (ANAMISC_CHARGER_##reg##_REG_##field##_Msk)) &gt;&gt; (ANAMISC_CHARGER_##reg##_REG_##field##_Pos))</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">  123</a></span>&#160;<span class="preprocessor">#define HW_CHARGER_REG_SETF(reg, field, new_val) \</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">        ANAMISC-&gt;CHARGER_##reg##_REG = ((ANAMISC-&gt;CHARGER_##reg##_REG &amp; ~(ANAMISC_CHARGER_##reg##_REG_##field##_Msk)) | \</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">        ((ANAMISC_CHARGER_##reg##_REG_##field##_Msk) &amp; ((new_val) &lt;&lt; (ANAMISC_CHARGER_##reg##_REG_##field##_Pos))))</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gafc90b16920f2ce08d0f8f3a33b125baa">hw_charger_check_vbus</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga275229e9ffec00bb955c21404d53cb57">  142</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga275229e9ffec00bb955c21404d53cb57">hw_charger_check_vbat</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group___p_l_a_t_f_o_r_m.html#ga9fb2882a2b00041e2c0b138aee1cb188">REG_GETF</a>(CRG_TOP, ANA_STATUS_REG, COMP_VBAT_OK) == 1);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gabd160278ad0a013c6ca40ec28b2d7aab">  151</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gabd160278ad0a013c6ca40ec28b2d7aab">hw_charger_set_vbus_irq_high</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        CRG_TOP-&gt;VBUS_IRQ_MASK_REG = <a class="code" href="group___device___peripheral___registers.html#ga541a377c32d5aeeaa9c4561c24c50852">CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_RISE_Msk</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaf6d44ac3b8ef63af5398a91bd1f02ba6">  160</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaf6d44ac3b8ef63af5398a91bd1f02ba6">hw_charger_set_vbus_irq_low</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        CRG_TOP-&gt;VBUS_IRQ_MASK_REG = <a class="code" href="group___device___peripheral___registers.html#gabb0b79b85452d04bcfc062ab30070f50">CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_FALL_Msk</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga1cc2ffe4bd71db94b341593e82f49914">  169</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga1cc2ffe4bd71db94b341593e82f49914">hw_charger_mask_vbus_irq</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        CRG_TOP-&gt;VBUS_IRQ_MASK_REG = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga13aa2e41650f4000c30d13d6117fce0d">hw_charger_enable_vbus_irq</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga1923315141de498c4f0063a5440b2003">  184</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga1923315141de498c4f0063a5440b2003">hw_charger_disable_vbus_irq</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        NVIC_DisableIRQ(<a class="code" href="group___d_a14680_a_e.html#gga7e1129cd8a196f4284d41db3e82ad5c8af731e2691381ce504ae55253ca42a26f">VBUS_IRQn</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga7ed5865cb38163f3b14980a5fbd09aab">  193</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga7ed5865cb38163f3b14980a5fbd09aab">hw_charger_clear_vbus_irq</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        CRG_TOP-&gt;VBUS_IRQ_CLEAR_REG = 0x3;      <span class="comment">/* Clear both interrupts */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga562639e6f8f9321d9274ce0bc6d5569c">hw_charger_configure_usb_pins</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga44f4557a72124a9dd4de669e4cc07fc8">hw_charger_enable_charger_irq</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga9b4b9820d90b4129c9d9aaba51e61a62">  214</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga9b4b9820d90b4129c9d9aaba51e61a62">hw_charger_disable_charger_irq</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga6a64ebac64a517c780504a987654a6c5">REG_CLR_BIT</a>(USB, USB_MAMSK_REG, USB_M_CH_EV);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga69fe081b0c9a844b786e70369cc5c161">  223</a></span>&#160;__STATIC_INLINE uint16_t <a class="code" href="group___u_s_b___charger.html#ga69fe081b0c9a844b786e70369cc5c161">hw_charger_get_charger_irq_status</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> USB-&gt;USB_MAEV_REG;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga43c89d82c3272bf3325665defdb769ed">  232</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga43c89d82c3272bf3325665defdb769ed">hw_charger_enable_usb_pads_passive</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga32bce4dd05dab1e9d47f6edb84aff09c">ASSERT_WARNING</a>(GPIO-&gt;P11_MODE_REG == 0x026);       <span class="comment">// Must be configured as a USB pad.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga32bce4dd05dab1e9d47f6edb84aff09c">ASSERT_WARNING</a>(GPIO-&gt;P22_MODE_REG == 0x026);       <span class="comment">// Must be configured as a USB pad.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        CRG_PER-&gt;USBPAD_REG = (<a class="code" href="group___device___peripheral___registers.html#ga893c8acefd134bc068380d1d9bfcb739">CRG_PER_USBPAD_REG_USBPAD_EN_Msk</a> |</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                               <a class="code" href="group___device___peripheral___registers.html#ga97afced4ac41dae2921e5c804be1dd1e">CRG_PER_USBPAD_REG_USBPHY_FORCE_SW1_OFF_Msk</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga56c062c8c552a7f8ad500c36938c24c4">  245</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga56c062c8c552a7f8ad500c36938c24c4">hw_charger_enable_usb_pullup</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        CRG_PER-&gt;USBPAD_REG = <a class="code" href="group___device___peripheral___registers.html#ga893c8acefd134bc068380d1d9bfcb739">CRG_PER_USBPAD_REG_USBPAD_EN_Msk</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaecad994344faa2ac5775e92aad22c1cd">  254</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaecad994344faa2ac5775e92aad22c1cd">hw_charger_disable_usb_pads</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        CRG_PER-&gt;USBPAD_REG = 0;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga6e5bbcba52925080f8c9d65ef0d3bf1c">  263</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga6e5bbcba52925080f8c9d65ef0d3bf1c">hw_charger_enable_usb_node</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a>(CRG_TOP, CLK_CTRL_REG, USB_CLK_SRC);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        USB-&gt;USB_MCTRL_REG = <a class="code" href="group___device___peripheral___registers.html#gac27214953cac18d41deca5d2c9a3d9bf">USB_USB_MCTRL_REG_USBEN_Msk</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a>(USB, USB_MCTRL_REG, USB_NAT);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gabad9ee4161277003d79166b476396426">  274</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gabad9ee4161277003d79166b476396426">hw_charger_disable_usb_node</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        USB-&gt;USB_MCTRL_REG = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga6a64ebac64a517c780504a987654a6c5">REG_CLR_BIT</a>(CRG_TOP, CLK_CTRL_REG, USB_CLK_SRC);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gafc790ced723aab9993dee994f00c941d">  284</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gafc790ced723aab9993dee994f00c941d">hw_charger_enable_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a>(USB, USB_CHARGER_CTRL_REG, USB_CHARGE_ON);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga237dd01f4c9e0ae0181c95b3a15cd05c">  293</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga237dd01f4c9e0ae0181c95b3a15cd05c">hw_charger_disable_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga720b725f01b568f3049740c231a42999">  302</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga720b725f01b568f3049740c231a42999">hw_charger_start_contact_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = (<a class="code" href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a> | </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga542e0d122c8c2e68a31c69690468cc9a">USB_USB_CHARGER_CTRL_REG_IDP_SRC_ON_Msk</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gae910c65b589307239d3c59b3b4d30ea3">  312</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gae910c65b589307239d3c59b3b4d30ea3">hw_charger_start_primary_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = (<a class="code" href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a> |</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga432d618e60344f78615ef4023c8064c4">USB_USB_CHARGER_CTRL_REG_VDP_SRC_ON_Msk</a> |</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga09c6eaf49209e45239f9fd1873f2367e">USB_USB_CHARGER_CTRL_REG_IDM_SINK_ON_Msk</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga9c8c1d9c7cfb369d604eba132cbbbb6c">  323</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga9c8c1d9c7cfb369d604eba132cbbbb6c">hw_charger_start_secondary_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = (<a class="code" href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a> |</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga489fac44f920571ea1df2cfb18292545">USB_USB_CHARGER_CTRL_REG_VDM_SRC_ON_Msk</a> |</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga3481e71b3d64c2738153cddfee5d740c">USB_USB_CHARGER_CTRL_REG_IDP_SINK_ON_Msk</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga7cacb1a2e30ee20a7e33a27121efbaf0">  334</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga7cacb1a2e30ee20a7e33a27121efbaf0">hw_charger_set_dp_high</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = (<a class="code" href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a> | </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                     <a class="code" href="group___device___peripheral___registers.html#ga432d618e60344f78615ef4023c8064c4">USB_USB_CHARGER_CTRL_REG_VDP_SRC_ON_Msk</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga1e1d58fa5c37e4b803568a821aaae49e">  345</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga1e1d58fa5c37e4b803568a821aaae49e">hw_charger_stop_any_detection</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        USB-&gt;USB_CHARGER_CTRL_REG = <a class="code" href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga2e603709538010d1dba0da83b8fd9f29">  354</a></span>&#160;__STATIC_INLINE uint16_t <a class="code" href="group___u_s_b___charger.html#ga2e603709538010d1dba0da83b8fd9f29">hw_charger_get_status</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">return</span> USB-&gt;USB_CHARGER_STAT_REG;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaaddb91fec38a10dc15fb0eb9827d268d">  369</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gaaddb91fec38a10dc15fb0eb9827d268d">hw_charger_check_contact</a>(uint16_t status)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> !(status &amp; <a class="code" href="group___device___peripheral___registers.html#gaf88bfc68a8a3b0ff3b8f4c608c39b413">USB_USB_CHARGER_STAT_REG_USB_DP_VAL_Msk</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga3effaa86e3f6df07b18c7e46e867d836">  381</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga3effaa86e3f6df07b18c7e46e867d836">hw_charger_check_primary</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group___u_s_b___charger.html#ga5081243fe5a39c68c45f1add9d2d9c96">HW_USB_CHARGER_REG_GETF</a>(STAT, USB_CHG_DET);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gab229c4c90d1a79ed7d5412cc65029849">  393</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gab229c4c90d1a79ed7d5412cc65029849">hw_charger_check_secondary</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group___u_s_b___charger.html#ga5081243fe5a39c68c45f1add9d2d9c96">HW_USB_CHARGER_REG_GETF</a>(STAT, USB_DCP_DET);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaaa960db42a897be5fcf42e6fd034c671">  402</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaaa960db42a897be5fcf42e6fd034c671">hw_charger_enable_ext_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <a class="code" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a>(CTRL2, CHARGER_TEST, 6);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaa0e9f45b62de269233a825d82c114887">  413</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaa0e9f45b62de269233a825d82c114887">hw_charger_enable_normal_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <a class="code" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a>(CTRL2, CHARGER_TEST, 0);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga0a4b954f387e85d900655a6b61a03a9a">  438</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga0a4b954f387e85d900655a6b61a03a9a">hw_charger_configure</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">/* Make sure a rechargeable battery is selected */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga32bce4dd05dab1e9d47f6edb84aff09c">ASSERT_WARNING</a>( (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga88df1af2aa80ba9bb1904708534c82f7">dg_configBATTERY_TYPE</a> != BATTERY_TYPE_NO_RECHARGE) &amp;&amp;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga88df1af2aa80ba9bb1904708534c82f7">dg_configBATTERY_TYPE</a> != BATTERY_TYPE_NO_BATTERY) );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        uint16_t reg;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#if (dg_configBATTERY_TYPE == BATTERY_TYPE_2xNIMH)</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        reg = 0x1 &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 3.40V</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_LIFEPO4)</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        reg = 0x3 &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 3.60V</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_LICOO2)</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        reg = 0xA &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 4.20V</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_LIMN2O4)</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        reg = 0xA &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 4.20V</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_NMC)</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        reg = 0xA &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 4.20V</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_LINICOAIO2)</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        reg = 0xA &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 4.20V</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_3xNIMH)</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        reg = 0x11 &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;       <span class="comment">// 4.90V</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#elif (dg_configBATTERY_TYPE == BATTERY_TYPE_CUSTOM)</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        reg = <a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga6a37fd6de5fc35af0c52674d31de7c94">dg_configBATTERY_CHARGE_VOLTAGE</a> &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        reg = 0x0 &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a>;        <span class="comment">// 3V</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        reg |= (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a> &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#gac5bcce3877a0996e8da18d0c43a5db1e">ANAMISC_CHARGER_CTRL1_REG_NTC_DISABLE_Pos</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        reg |= (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga502114e0029aa9ec2257d3af3f37c69b">dg_configBATTERY_CHARGE_CURRENT</a> &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga69902e7da6ca5f20ac1e377cee030ed9">ANAMISC_CHARGER_CTRL1_REG_CHARGE_CUR_Pos</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        reg |= (2 &lt;&lt; <a class="code" href="group___device___peripheral___registers.html#ga7ede8b8f55947bdd85a40081a0cfae1f">ANAMISC_CHARGER_CTRL1_REG_DIE_TEMP_SET_Pos</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        ANAMISC-&gt;CHARGER_CTRL1_REG = reg;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="group___t_c_s___h_a_n_d_l_e_r.html#ga6f5b221428fce753048e67d4f1dbd444">sys_tcs_apply</a>(tcs_charger);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a> == 0) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                GPIO-&gt;P1_SET_DATA_REG = (1 &lt;&lt; 4);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                GPIO-&gt;P14_MODE_REG = 0x300;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga3551ec870541797d4d8512b923bbd84c">  485</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga3551ec870541797d4d8512b923bbd84c">hw_charger_set_charge_current</a>(uint8_t current)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="comment">/* The current cannot exceed 30 */</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga32bce4dd05dab1e9d47f6edb84aff09c">ASSERT_WARNING</a>(current &lt; 30);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">if</span> (current &gt; 15) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                        <a class="code" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a>(CTRL1, CHARGE_CUR, current - 16);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                        <a class="code" href="group___u_s_b___charger.html#gaaa960db42a897be5fcf42e6fd034c671">hw_charger_enable_ext_charging</a>();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        <a class="code" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a>(CTRL1, CHARGE_CUR, current);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                        <a class="code" href="group___u_s_b___charger.html#gaa0e9f45b62de269233a825d82c114887">hw_charger_enable_normal_charging</a>();</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaf17a0f331c0d0e0ba997504ab7778609">  506</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaf17a0f331c0d0e0ba997504ab7778609">hw_charger_start_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <a class="code" href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a>(ANAMISC, CHARGER_CTRL1_REG, CHARGE_ON);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga2c417d1d176394ac119dbf5e5467fa7a">  517</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga2c417d1d176394ac119dbf5e5467fa7a">hw_charger_stop_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga6a64ebac64a517c780504a987654a6c5">REG_CLR_BIT</a>(ANAMISC, CHARGER_CTRL1_REG, CHARGE_ON);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga3909949edc9f6ae3fedc72fcdd9d52f8">  528</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga3909949edc9f6ae3fedc72fcdd9d52f8">hw_charger_is_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(CTRL1, CHARGE_ON) == 1;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga76aa50970bf15b1271915a9e45f2a7f3">  537</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga76aa50970bf15b1271915a9e45f2a7f3">hw_charger_in_cc_mode</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, CHARGER_CC_MODE) == 1);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gac0b4a5debd07bb6f96c23cacc4032d32">  546</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gac0b4a5debd07bb6f96c23cacc4032d32">hw_charger_in_cv_mode</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;{</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, CHARGER_CV_MODE) == 1);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga39d9f49257b0f2e58cae43b5fa063d4e">  555</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#ga39d9f49257b0f2e58cae43b5fa063d4e">hw_charger_enable_trickle_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <a class="code" href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a>(ANAMISC, CHARGER_CTRL1_REG, NTC_LOW_DISABLE);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gaa45f93113aa440601c2f63c5e8431f29">  566</a></span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> <a class="code" href="group___u_s_b___charger.html#gaa45f93113aa440601c2f63c5e8431f29">hw_charger_disable_trickle_charging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a> == 1) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a>(CTRL1, NTC_LOW_DISABLE, 0);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga6a64ebac64a517c780504a987654a6c5">REG_CLR_BIT</a>(ANAMISC, CHARGER_CTRL1_REG, NTC_LOW_DISABLE);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gabfa0698adee56955294e2641112d7e4a">  583</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gabfa0698adee56955294e2641112d7e4a">hw_charger_end_of_charge</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordtype">bool</span> ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// Check only in normal charging mode.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(CTRL2, CHARGER_TEST) == 0) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                ret = <a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, END_OF_CHARGE);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#gab6d956ad0f5f2fce811021cbcc79104e">  601</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#gab6d956ad0f5f2fce811021cbcc79104e">hw_charger_temp_low</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordtype">bool</span> ret;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a> == 1) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                ret = <a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, CHARGER_BATTEMP_LOW);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga31994b3e038101f5dd96cfd296a7302e">  621</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga31994b3e038101f5dd96cfd296a7302e">hw_charger_temp_high</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordtype">bool</span> ret;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a> == 1) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                ret = <a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, CHARGER_BATTEMP_HIGH);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga26fd89ab1460659934b4cbe254b0c7e7">  641</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga26fd89ab1460659934b4cbe254b0c7e7">hw_charger_temp_ok</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordtype">bool</span> ret;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a> == 1) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                ret = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                ret = <a class="code" href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a>(STATUS, CHARGER_BATTEMP_OK);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="group___u_s_b___charger.html#ga62f650053267a3acf17297f5e523f39b">  661</a></span>&#160;__STATIC_INLINE <span class="keywordtype">bool</span> <a class="code" href="group___u_s_b___charger.html#ga62f650053267a3acf17297f5e523f39b">hw_charger_new_battery_detected</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group___p_l_a_t_f_o_r_m.html#ga9fb2882a2b00041e2c0b138aee1cb188">REG_GETF</a>(CRG_TOP, ANA_STATUS_REG, NEWBAT);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* dg_configUSE_HW_USB_CHARGER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HW_USB_CHARGER_H_ */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="ttc" id="group___u_s_b___charger_html_ga7cacb1a2e30ee20a7e33a27121efbaf0"><div class="ttname"><a href="group___u_s_b___charger.html#ga7cacb1a2e30ee20a7e33a27121efbaf0">hw_charger_set_dp_high</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_set_dp_high(void)</div><div class="ttdoc">Enable USB Charger detection circuit and pull D+ high. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:334</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga032a714f848d02b749a95bdba9fd6d3a"><div class="ttname"><a href="group___u_s_b___charger.html#ga032a714f848d02b749a95bdba9fd6d3a">HW_CHARGER_REG_GETF</a></div><div class="ttdeci">#define HW_CHARGER_REG_GETF(reg, field)</div><div class="ttdoc">Get the value of a field of a CHARGER register. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:112</div></div>
<div class="ttc" id="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s_html_ga4aded516370997261ee10a5ead4bc373"><div class="ttname"><a href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga4aded516370997261ee10a5ead4bc373">dg_configUSE_USB_CHARGER</a></div><div class="ttdeci">#define dg_configUSE_USB_CHARGER</div><div class="ttdoc">When set to 1, the USB Charger is used to charge the battery. </div><div class="ttdef"><b>Definition:</b> bsp_defaults.h:707</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gabad9ee4161277003d79166b476396426"><div class="ttname"><a href="group___u_s_b___charger.html#gabad9ee4161277003d79166b476396426">hw_charger_disable_usb_node</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_usb_node(void)</div><div class="ttdoc">Disables the USB port. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:274</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga9c8c1d9c7cfb369d604eba132cbbbb6c"><div class="ttname"><a href="group___u_s_b___charger.html#ga9c8c1d9c7cfb369d604eba132cbbbb6c">hw_charger_start_secondary_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_start_secondary_detection(void)</div><div class="ttdoc">Enable USB Charger detection circuit and start secondary detection. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:323</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga1e1d58fa5c37e4b803568a821aaae49e"><div class="ttname"><a href="group___u_s_b___charger.html#ga1e1d58fa5c37e4b803568a821aaae49e">hw_charger_stop_any_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_stop_any_detection(void)</div><div class="ttdoc">Enable USB Charger detection circuit but stop any detection (contact, primary or secondary). </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:345</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga5081243fe5a39c68c45f1add9d2d9c96"><div class="ttname"><a href="group___u_s_b___charger.html#ga5081243fe5a39c68c45f1add9d2d9c96">HW_USB_CHARGER_REG_GETF</a></div><div class="ttdeci">#define HW_USB_CHARGER_REG_GETF(reg, field)</div><div class="ttdoc">Get the value of a field of a USB_CHARGER register. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:68</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga7ede8b8f55947bdd85a40081a0cfae1f"><div class="ttname"><a href="group___device___peripheral___registers.html#ga7ede8b8f55947bdd85a40081a0cfae1f">ANAMISC_CHARGER_CTRL1_REG_DIE_TEMP_SET_Pos</a></div><div class="ttdeci">#define ANAMISC_CHARGER_CTRL1_REG_DIE_TEMP_SET_Pos</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:2612</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga39d9f49257b0f2e58cae43b5fa063d4e"><div class="ttname"><a href="group___u_s_b___charger.html#ga39d9f49257b0f2e58cae43b5fa063d4e">hw_charger_enable_trickle_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_trickle_charging(void)</div><div class="ttdoc">Enable trickle charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:555</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga237dd01f4c9e0ae0181c95b3a15cd05c"><div class="ttname"><a href="group___u_s_b___charger.html#ga237dd01f4c9e0ae0181c95b3a15cd05c">hw_charger_disable_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_detection(void)</div><div class="ttdoc">Disable USB Charger detection circuit. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:293</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga69902e7da6ca5f20ac1e377cee030ed9"><div class="ttname"><a href="group___device___peripheral___registers.html#ga69902e7da6ca5f20ac1e377cee030ed9">ANAMISC_CHARGER_CTRL1_REG_CHARGE_CUR_Pos</a></div><div class="ttdeci">#define ANAMISC_CHARGER_CTRL1_REG_CHARGE_CUR_Pos</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:2610</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga1923315141de498c4f0063a5440b2003"><div class="ttname"><a href="group___u_s_b___charger.html#ga1923315141de498c4f0063a5440b2003">hw_charger_disable_vbus_irq</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_vbus_irq(void)</div><div class="ttdoc">Disable VBUS IRQ. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:184</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga56c062c8c552a7f8ad500c36938c24c4"><div class="ttname"><a href="group___u_s_b___charger.html#ga56c062c8c552a7f8ad500c36938c24c4">hw_charger_enable_usb_pullup</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_usb_pullup(void)</div><div class="ttdoc">Enables the USB pull-up on D+. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:245</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga432d618e60344f78615ef4023c8064c4"><div class="ttname"><a href="group___device___peripheral___registers.html#ga432d618e60344f78615ef4023c8064c4">USB_USB_CHARGER_CTRL_REG_VDP_SRC_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_VDP_SRC_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11697</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaaddb91fec38a10dc15fb0eb9827d268d"><div class="ttname"><a href="group___u_s_b___charger.html#gaaddb91fec38a10dc15fb0eb9827d268d">hw_charger_check_contact</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_check_contact(uint16_t status)</div><div class="ttdoc">Check USB contact. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:369</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaa45f93113aa440601c2f63c5e8431f29"><div class="ttname"><a href="group___u_s_b___charger.html#gaa45f93113aa440601c2f63c5e8431f29">hw_charger_disable_trickle_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_trickle_charging(void)</div><div class="ttdoc">Disable trickle charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:566</div></div>
<div class="ttc" id="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s_html_ga502114e0029aa9ec2257d3af3f37c69b"><div class="ttname"><a href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga502114e0029aa9ec2257d3af3f37c69b">dg_configBATTERY_CHARGE_CURRENT</a></div><div class="ttdeci">#define dg_configBATTERY_CHARGE_CURRENT</div><div class="ttdoc">Battery charge current. </div><div class="ttdef"><b>Definition:</b> bsp_defaults.h:666</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga43c89d82c3272bf3325665defdb769ed"><div class="ttname"><a href="group___u_s_b___charger.html#ga43c89d82c3272bf3325665defdb769ed">hw_charger_enable_usb_pads_passive</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_usb_pads_passive(void)</div><div class="ttdoc">Enables the USB pads without activating the pull-up. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:232</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga97afced4ac41dae2921e5c804be1dd1e"><div class="ttname"><a href="group___device___peripheral___registers.html#ga97afced4ac41dae2921e5c804be1dd1e">CRG_PER_USBPAD_REG_USBPHY_FORCE_SW1_OFF_Msk</a></div><div class="ttdeci">#define CRG_PER_USBPAD_REG_USBPHY_FORCE_SW1_OFF_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:3885</div></div>
<div class="ttc" id="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s_html_ga6a37fd6de5fc35af0c52674d31de7c94"><div class="ttname"><a href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga6a37fd6de5fc35af0c52674d31de7c94">dg_configBATTERY_CHARGE_VOLTAGE</a></div><div class="ttdeci">#define dg_configBATTERY_CHARGE_VOLTAGE</div><div class="ttdoc">Battery charge voltage. </div><div class="ttdef"><b>Definition:</b> bsp_defaults.h:662</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gafc90b16920f2ce08d0f8f3a33b125baa"><div class="ttname"><a href="group___u_s_b___charger.html#gafc90b16920f2ce08d0f8f3a33b125baa">hw_charger_check_vbus</a></div><div class="ttdeci">bool hw_charger_check_vbus(void)</div><div class="ttdoc">Check if VBUS power is available. </div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga893c8acefd134bc068380d1d9bfcb739"><div class="ttname"><a href="group___device___peripheral___registers.html#ga893c8acefd134bc068380d1d9bfcb739">CRG_PER_USBPAD_REG_USBPAD_EN_Msk</a></div><div class="ttdeci">#define CRG_PER_USBPAD_REG_USBPAD_EN_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:3883</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga0a4b954f387e85d900655a6b61a03a9a"><div class="ttname"><a href="group___u_s_b___charger.html#ga0a4b954f387e85d900655a6b61a03a9a">hw_charger_configure</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_configure(void)</div><div class="ttdoc">Configures the Charger how to charge the battery. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:438</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga76aa50970bf15b1271915a9e45f2a7f3"><div class="ttname"><a href="group___u_s_b___charger.html#ga76aa50970bf15b1271915a9e45f2a7f3">hw_charger_in_cc_mode</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_in_cc_mode(void)</div><div class="ttdoc">Check if charger is in CC mode. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:537</div></div>
<div class="ttc" id="sdk__defs_8h_html"><div class="ttname"><a href="sdk__defs_8h.html">sdk_defs.h</a></div><div class="ttdoc">Central include header file with platform definitions. </div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga7ed5865cb38163f3b14980a5fbd09aab"><div class="ttname"><a href="group___u_s_b___charger.html#ga7ed5865cb38163f3b14980a5fbd09aab">hw_charger_clear_vbus_irq</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_clear_vbus_irq(void)</div><div class="ttdoc">Clear VBUS IRQ. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:193</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga5a9c8b66278caa88f4bca9eb4e54bdc9"><div class="ttname"><a href="group___u_s_b___charger.html#ga5a9c8b66278caa88f4bca9eb4e54bdc9">HW_CHARGER_REG_SETF</a></div><div class="ttdeci">#define HW_CHARGER_REG_SETF(reg, field, new_val)</div><div class="ttdoc">Set the value of a field of a CHARGER register. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:123</div></div>
<div class="ttc" id="group___p_l_a_t_f_o_r_m_html_ga6a64ebac64a517c780504a987654a6c5"><div class="ttname"><a href="group___p_l_a_t_f_o_r_m.html#ga6a64ebac64a517c780504a987654a6c5">REG_CLR_BIT</a></div><div class="ttdeci">#define REG_CLR_BIT(base, reg, field)</div><div class="ttdoc">Clear a bit of a register. </div><div class="ttdef"><b>Definition:</b> sdk_defs.h:522</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga31994b3e038101f5dd96cfd296a7302e"><div class="ttname"><a href="group___u_s_b___charger.html#ga31994b3e038101f5dd96cfd296a7302e">hw_charger_temp_high</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_temp_high(void)</div><div class="ttdoc">Check battery high-temperature. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:621</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga3effaa86e3f6df07b18c7e46e867d836"><div class="ttname"><a href="group___u_s_b___charger.html#ga3effaa86e3f6df07b18c7e46e867d836">hw_charger_check_primary</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_check_primary(void)</div><div class="ttdoc">Get USB Charger primary detection result. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:381</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga2c417d1d176394ac119dbf5e5467fa7a"><div class="ttname"><a href="group___u_s_b___charger.html#ga2c417d1d176394ac119dbf5e5467fa7a">hw_charger_stop_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_stop_charging(void)</div><div class="ttdoc">Stop battery charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:517</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_gac27214953cac18d41deca5d2c9a3d9bf"><div class="ttname"><a href="group___device___peripheral___registers.html#gac27214953cac18d41deca5d2c9a3d9bf">USB_USB_MCTRL_REG_USBEN_Msk</a></div><div class="ttdeci">#define USB_USB_MCTRL_REG_USBEN_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11191</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga44f4557a72124a9dd4de669e4cc07fc8"><div class="ttname"><a href="group___u_s_b___charger.html#ga44f4557a72124a9dd4de669e4cc07fc8">hw_charger_enable_charger_irq</a></div><div class="ttdeci">void hw_charger_enable_charger_irq(void)</div><div class="ttdoc">Enable Charger IRQ. </div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga720b725f01b568f3049740c231a42999"><div class="ttname"><a href="group___u_s_b___charger.html#ga720b725f01b568f3049740c231a42999">hw_charger_start_contact_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_start_contact_detection(void)</div><div class="ttdoc">Enable USB Charger detection circuit and start contact detection. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:302</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga9b4b9820d90b4129c9d9aaba51e61a62"><div class="ttname"><a href="group___u_s_b___charger.html#ga9b4b9820d90b4129c9d9aaba51e61a62">hw_charger_disable_charger_irq</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_charger_irq(void)</div><div class="ttdoc">Disable Charger IRQ. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:214</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga3909949edc9f6ae3fedc72fcdd9d52f8"><div class="ttname"><a href="group___u_s_b___charger.html#ga3909949edc9f6ae3fedc72fcdd9d52f8">hw_charger_is_charging</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_is_charging(void)</div><div class="ttdoc">Get battery charging status. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:528</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga2e603709538010d1dba0da83b8fd9f29"><div class="ttname"><a href="group___u_s_b___charger.html#ga2e603709538010d1dba0da83b8fd9f29">hw_charger_get_status</a></div><div class="ttdeci">__STATIC_INLINE uint16_t hw_charger_get_status(void)</div><div class="ttdoc">Get USB Charger status and clear the USB_IRQn interrupt. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:354</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga489fac44f920571ea1df2cfb18292545"><div class="ttname"><a href="group___device___peripheral___registers.html#ga489fac44f920571ea1df2cfb18292545">USB_USB_CHARGER_CTRL_REG_VDM_SRC_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_VDM_SRC_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11699</div></div>
<div class="ttc" id="group___t_c_s___h_a_n_d_l_e_r_html_ga6f5b221428fce753048e67d4f1dbd444"><div class="ttname"><a href="group___t_c_s___h_a_n_d_l_e_r.html#ga6f5b221428fce753048e67d4f1dbd444">sys_tcs_apply</a></div><div class="ttdeci">void sys_tcs_apply(sys_tcs_area_t area)</div><div class="ttdoc">Apply the <address, value> pairs located in a "class" of the TCS array. This is done only for calibra...</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga69fe081b0c9a844b786e70369cc5c161"><div class="ttname"><a href="group___u_s_b___charger.html#ga69fe081b0c9a844b786e70369cc5c161">hw_charger_get_charger_irq_status</a></div><div class="ttdeci">__STATIC_INLINE uint16_t hw_charger_get_charger_irq_status(void)</div><div class="ttdoc">Get the status of the Charger IRQ and ACK it. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:223</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gafc790ced723aab9993dee994f00c941d"><div class="ttname"><a href="group___u_s_b___charger.html#gafc790ced723aab9993dee994f00c941d">hw_charger_enable_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_detection(void)</div><div class="ttdoc">Enable USB Charger detection circuit. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:284</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_gac12d9fc93d602ff80a3a459e8e75bd3d"><div class="ttname"><a href="group___device___peripheral___registers.html#gac12d9fc93d602ff80a3a459e8e75bd3d">USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_USB_CHARGE_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11693</div></div>
<div class="ttc" id="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s_html_ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b"><div class="ttname"><a href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga60bbd2a8c2b6a78c3bf7271d5cbb8b1b">dg_configBATTERY_CHARGE_NTC</a></div><div class="ttdeci">#define dg_configBATTERY_CHARGE_NTC</div><div class="ttdoc">Battery charge NTC. </div><div class="ttdef"><b>Definition:</b> bsp_defaults.h:670</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga542e0d122c8c2e68a31c69690468cc9a"><div class="ttname"><a href="group___device___peripheral___registers.html#ga542e0d122c8c2e68a31c69690468cc9a">USB_USB_CHARGER_CTRL_REG_IDP_SRC_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_IDP_SRC_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11695</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_gaf88bfc68a8a3b0ff3b8f4c608c39b413"><div class="ttname"><a href="group___device___peripheral___registers.html#gaf88bfc68a8a3b0ff3b8f4c608c39b413">USB_USB_CHARGER_STAT_REG_USB_DP_VAL_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_STAT_REG_USB_DP_VAL_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11711</div></div>
<div class="ttc" id="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s_html_ga88df1af2aa80ba9bb1904708534c82f7"><div class="ttname"><a href="group___s_y_s_t_e_m___c_o_n_f_i_g_u_r_a_t_i_o_n___s_e_t_t_i_n_g_s.html#ga88df1af2aa80ba9bb1904708534c82f7">dg_configBATTERY_TYPE</a></div><div class="ttdeci">#define dg_configBATTERY_TYPE</div><div class="ttdoc">Battery type. </div><div class="ttdef"><b>Definition:</b> bsp_defaults.h:658</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaaa960db42a897be5fcf42e6fd034c671"><div class="ttname"><a href="group___u_s_b___charger.html#gaaa960db42a897be5fcf42e6fd034c671">hw_charger_enable_ext_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_ext_charging(void)</div><div class="ttdoc">Enable ext scale charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:402</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaf6d44ac3b8ef63af5398a91bd1f02ba6"><div class="ttname"><a href="group___u_s_b___charger.html#gaf6d44ac3b8ef63af5398a91bd1f02ba6">hw_charger_set_vbus_irq_low</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_set_vbus_irq_low(void)</div><div class="ttdoc">Program VBUS IRQ to hit when the VBUS level goes from high to low. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:160</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gabd160278ad0a013c6ca40ec28b2d7aab"><div class="ttname"><a href="group___u_s_b___charger.html#gabd160278ad0a013c6ca40ec28b2d7aab">hw_charger_set_vbus_irq_high</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_set_vbus_irq_high(void)</div><div class="ttdoc">Program VBUS IRQ to hit when the VBUS level goes from low to high. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:151</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_gac5bcce3877a0996e8da18d0c43a5db1e"><div class="ttname"><a href="group___device___peripheral___registers.html#gac5bcce3877a0996e8da18d0c43a5db1e">ANAMISC_CHARGER_CTRL1_REG_NTC_DISABLE_Pos</a></div><div class="ttdeci">#define ANAMISC_CHARGER_CTRL1_REG_NTC_DISABLE_Pos</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:2606</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gab229c4c90d1a79ed7d5412cc65029849"><div class="ttname"><a href="group___u_s_b___charger.html#gab229c4c90d1a79ed7d5412cc65029849">hw_charger_check_secondary</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_check_secondary(void)</div><div class="ttdoc">Get USB Charger secondary detection result. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:393</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga26fd89ab1460659934b4cbe254b0c7e7"><div class="ttname"><a href="group___u_s_b___charger.html#ga26fd89ab1460659934b4cbe254b0c7e7">hw_charger_temp_ok</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_temp_ok(void)</div><div class="ttdoc">Check battery temperature. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:641</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga541a377c32d5aeeaa9c4561c24c50852"><div class="ttname"><a href="group___device___peripheral___registers.html#ga541a377c32d5aeeaa9c4561c24c50852">CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_RISE_Msk</a></div><div class="ttdeci">#define CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_RISE_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:4193</div></div>
<div class="ttc" id="sys__tcs_8h_html"><div class="ttname"><a href="sys__tcs_8h.html">sys_tcs.h</a></div><div class="ttdoc">TCS Handler header file. </div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaa0e9f45b62de269233a825d82c114887"><div class="ttname"><a href="group___u_s_b___charger.html#gaa0e9f45b62de269233a825d82c114887">hw_charger_enable_normal_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_normal_charging(void)</div><div class="ttdoc">Enable normal charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:413</div></div>
<div class="ttc" id="group___p_l_a_t_f_o_r_m_html_ga32bce4dd05dab1e9d47f6edb84aff09c"><div class="ttname"><a href="group___p_l_a_t_f_o_r_m.html#ga32bce4dd05dab1e9d47f6edb84aff09c">ASSERT_WARNING</a></div><div class="ttdeci">#define ASSERT_WARNING(a)</div><div class="ttdoc">Assert as warning macro. </div><div class="ttdef"><b>Definition:</b> sdk_defs.h:258</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaf17a0f331c0d0e0ba997504ab7778609"><div class="ttname"><a href="group___u_s_b___charger.html#gaf17a0f331c0d0e0ba997504ab7778609">hw_charger_start_charging</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_start_charging(void)</div><div class="ttdoc">Start battery charging. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:506</div></div>
<div class="ttc" id="group___p_l_a_t_f_o_r_m_html_gab56605baef38ed520d44270ee49753c7"><div class="ttname"><a href="group___p_l_a_t_f_o_r_m.html#gab56605baef38ed520d44270ee49753c7">REG_SET_BIT</a></div><div class="ttdeci">#define REG_SET_BIT(base, reg, field)</div><div class="ttdoc">Set a bit of a register. </div><div class="ttdef"><b>Definition:</b> sdk_defs.h:507</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga3551ec870541797d4d8512b923bbd84c"><div class="ttname"><a href="group___u_s_b___charger.html#ga3551ec870541797d4d8512b923bbd84c">hw_charger_set_charge_current</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_set_charge_current(uint8_t current)</div><div class="ttdoc">Set battery charging current (if different from dg_configBATTERY_CHARGE_CURRENT). ...</div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:485</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gab6d956ad0f5f2fce811021cbcc79104e"><div class="ttname"><a href="group___u_s_b___charger.html#gab6d956ad0f5f2fce811021cbcc79104e">hw_charger_temp_low</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_temp_low(void)</div><div class="ttdoc">Check battery low-temperature. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:601</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga562639e6f8f9321d9274ce0bc6d5569c"><div class="ttname"><a href="group___u_s_b___charger.html#ga562639e6f8f9321d9274ce0bc6d5569c">hw_charger_configure_usb_pins</a></div><div class="ttdeci">void hw_charger_configure_usb_pins(void)</div><div class="ttdoc">Configure USB GPIOs. </div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga09c6eaf49209e45239f9fd1873f2367e"><div class="ttname"><a href="group___device___peripheral___registers.html#ga09c6eaf49209e45239f9fd1873f2367e">USB_USB_CHARGER_CTRL_REG_IDM_SINK_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_IDM_SINK_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11703</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gae910c65b589307239d3c59b3b4d30ea3"><div class="ttname"><a href="group___u_s_b___charger.html#gae910c65b589307239d3c59b3b4d30ea3">hw_charger_start_primary_detection</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_start_primary_detection(void)</div><div class="ttdoc">Enable USB Charger detection circuit and start primary detection. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:312</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga1cc2ffe4bd71db94b341593e82f49914"><div class="ttname"><a href="group___u_s_b___charger.html#ga1cc2ffe4bd71db94b341593e82f49914">hw_charger_mask_vbus_irq</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_mask_vbus_irq(void)</div><div class="ttdoc">Mask VBUS IRQ so that it does not hit when the VBUS level changes. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:169</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga275229e9ffec00bb955c21404d53cb57"><div class="ttname"><a href="group___u_s_b___charger.html#ga275229e9ffec00bb955c21404d53cb57">hw_charger_check_vbat</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_check_vbat(void)</div><div class="ttdoc">Check if VBAT power is available. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:142</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gabfa0698adee56955294e2641112d7e4a"><div class="ttname"><a href="group___u_s_b___charger.html#gabfa0698adee56955294e2641112d7e4a">hw_charger_end_of_charge</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_end_of_charge(void)</div><div class="ttdoc">Check end-of-charge (Li-ion). </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:583</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga3481e71b3d64c2738153cddfee5d740c"><div class="ttname"><a href="group___device___peripheral___registers.html#ga3481e71b3d64c2738153cddfee5d740c">USB_USB_CHARGER_CTRL_REG_IDP_SINK_ON_Msk</a></div><div class="ttdeci">#define USB_USB_CHARGER_CTRL_REG_IDP_SINK_ON_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:11701</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gaecad994344faa2ac5775e92aad22c1cd"><div class="ttname"><a href="group___u_s_b___charger.html#gaecad994344faa2ac5775e92aad22c1cd">hw_charger_disable_usb_pads</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_disable_usb_pads(void)</div><div class="ttdoc">Disables the USB pads. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:254</div></div>
<div class="ttc" id="group___p_l_a_t_f_o_r_m_html_ga9fb2882a2b00041e2c0b138aee1cb188"><div class="ttname"><a href="group___p_l_a_t_f_o_r_m.html#ga9fb2882a2b00041e2c0b138aee1cb188">REG_GETF</a></div><div class="ttdeci">#define REG_GETF(base, reg, field)</div><div class="ttdoc">Return the value of a register field. </div><div class="ttdef"><b>Definition:</b> sdk_defs.h:480</div></div>
<div class="ttc" id="group___d_a14680_a_e_html_gga7e1129cd8a196f4284d41db3e82ad5c8af731e2691381ce504ae55253ca42a26f"><div class="ttname"><a href="group___d_a14680_a_e.html#gga7e1129cd8a196f4284d41db3e82ad5c8af731e2691381ce504ae55253ca42a26f">VBUS_IRQn</a></div><div class="ttdef"><b>Definition:</b> DA14680AE.h:85</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_ga7dd30c3d20f88d646520d9da1ed53408"><div class="ttname"><a href="group___device___peripheral___registers.html#ga7dd30c3d20f88d646520d9da1ed53408">ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</a></div><div class="ttdeci">#define ANAMISC_CHARGER_CTRL1_REG_CHARGE_LEVEL_Pos</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:2602</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga62f650053267a3acf17297f5e523f39b"><div class="ttname"><a href="group___u_s_b___charger.html#ga62f650053267a3acf17297f5e523f39b">hw_charger_new_battery_detected</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_new_battery_detected(void)</div><div class="ttdoc">Check if new battery has been inserted. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:661</div></div>
<div class="ttc" id="group___device___peripheral___registers_html_gabb0b79b85452d04bcfc062ab30070f50"><div class="ttname"><a href="group___device___peripheral___registers.html#gabb0b79b85452d04bcfc062ab30070f50">CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_FALL_Msk</a></div><div class="ttdeci">#define CRG_TOP_VBUS_IRQ_MASK_REG_VBUS_IRQ_EN_FALL_Msk</div><div class="ttdef"><b>Definition:</b> DA14680AE.h:4191</div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga13aa2e41650f4000c30d13d6117fce0d"><div class="ttname"><a href="group___u_s_b___charger.html#ga13aa2e41650f4000c30d13d6117fce0d">hw_charger_enable_vbus_irq</a></div><div class="ttdeci">void hw_charger_enable_vbus_irq(void)</div><div class="ttdoc">Enable VBUS IRQ. </div></div>
<div class="ttc" id="group___u_s_b___charger_html_ga6e5bbcba52925080f8c9d65ef0d3bf1c"><div class="ttname"><a href="group___u_s_b___charger.html#ga6e5bbcba52925080f8c9d65ef0d3bf1c">hw_charger_enable_usb_node</a></div><div class="ttdeci">__STATIC_INLINE void hw_charger_enable_usb_node(void)</div><div class="ttdoc">Enables the USB port. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:263</div></div>
<div class="ttc" id="group___u_s_b___charger_html_gac0b4a5debd07bb6f96c23cacc4032d32"><div class="ttname"><a href="group___u_s_b___charger.html#gac0b4a5debd07bb6f96c23cacc4032d32">hw_charger_in_cv_mode</a></div><div class="ttdeci">__STATIC_INLINE bool hw_charger_in_cv_mode(void)</div><div class="ttdoc">Check if charger is in CV mode. </div><div class="ttdef"><b>Definition:</b> hw_usb_charger.h:546</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 16 2016 16:30:39 for SmartSnippets DA1468x SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
